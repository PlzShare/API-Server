<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace='user'>

	<insert id="insert" parameterType="user">
		<![CDATA[
			insert into user(id, password, name, nickname, profile) 
				values(#{id}, #{password},#{name}, #{nickname}, #{profile})
		]]>
	</insert>
	
	<select id="find" parameterType="user" resultType="user">
		<![CDATA[
		select no, id, name, nickname, profile 
		from user 
		where id=#{id } and password=#{password }
		]]>
	</select>
	
	<select id="findNo" parameterType="long" resultType="user">
		<![CDATA[
		select no, id, name, nickname, profile 
		from user 
		where no=#{no }
		]]>
	</select>

	<update id="update" parameterType="user">
		<![CDATA[
		update user 
		set nickname=#{nickname }, profile =#{profile} ,password=#{password }
		where no=#{no }
		]]>
	</update>
	
	<update id="delete" parameterType="long">
		<![CDATA[
		update user 
		set leave_date=now() 
		where no=#{no }
		]]>
	</update>
	
	<select id="findList" parameterType="searchInfo" resultType="user">
		<![CDATA[
			select no, id 
			from user 
			where id=#{userId}
		]]>
		
	</select>
	
	





</mapper>